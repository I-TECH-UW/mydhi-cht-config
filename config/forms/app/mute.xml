<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:jr="http://openrosa.org/javarosa" xmlns:orx="http://openrosa.org/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>Mute request</h:title>
    <model>
      <itext>
        <translation lang="en">
          <text id="/mute/group_review/n_changed_clinic:label">
            <value>Changed clinic</value>
          </text>
          <text id="/mute/group_review/n_death:label">
            <value>Death</value>
          </text>
          <text id="/mute/group_review/n_follow_up:label">
            <value>Follow up tasks will stop showing!</value>
          </text>
          <text id="/mute/group_review/n_follow_up_title:label">
            <value>Follow Up&lt;i class="fa fa-flag"&gt;&lt;/i&gt;</value>
          </text>
          <text id="/mute/group_review/n_hiv_negative:label">
            <value>HIV Negative</value>
          </text>
          <text id="/mute/group_review/n_in_private_care:label">
            <value>In private care</value>
          </text>
          <text id="/mute/group_review/n_incarcerated:label">
            <value>Incarcerated</value>
          </text>
          <text id="/mute/group_review/n_migrated:label">
            <value>Migrated</value>
          </text>
          <text id="/mute/group_review/n_opt:label">
            <value>Opt Out of HealthJam</value>
          </text>
          <text id="/mute/group_review/n_patient_details:label">
            <value>&lt;h4 style=&quot;text-align:center;&quot;&gt;<output value=" /mute/patient_name "/>&lt;/h4&gt;&lt;h5 style=&quot;text-align:center;&quot;&gt;<output value=" /mute/group_review/c_age_string "/>&lt;/h5&gt;</value>
          </text>
          <text id="/mute/group_review/n_patient_details_title:label">
            <value>Patient Details&lt;I class="fa fa-user"&gt;&lt;/i&gt;</value>
          </text>
          <text id="/mute/group_review/n_reasons_title:label">
            <value>**_Reasons for mute request_**</value>
          </text>
          <text id="/mute/group_review/n_refused_care:label">
            <value>Refused care</value>
          </text>
          <text id="/mute/group_review/n_special_instruction:label">
            <value>_Tasks for <output value=" /mute/patient_name "/> will stop showing until you submit unmute request._</value>
          </text>
          <text id="/mute/group_review/n_special_instruction_title:label">
            <value>Special instruction&lt;I class="fa fa-user"&gt;&lt;/i&gt;</value>
          </text>
          <text id="/mute/group_review/n_submit:label">
            <value>_Be sure you submit to complete this action._</value>
          </text>
          <text id="/mute/group_review/n_unlocatable:label">
            <value>Unlocatable</value>
          </text>
          <text id="/mute/group_review:label">
            <value>Results/Summary Page</value>
          </text>
          <text id="/mute/inputs/contact/_id:label">
            <value>What is the patient's name?</value>
          </text>
          <text id="/mute/inputs/contact/date_of_birth:label">
            <value>Date of Birth</value>
          </text>
          <text id="/mute/inputs/contact/name:label">
            <value>Name</value>
          </text>
          <text id="/mute/inputs/contact/parent/_id:label">
            <value>Family ID</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent/_id:label">
            <value>CHW Area ID</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent/contact/_id:label">
            <value>CHW ID</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent/contact/name:label">
            <value>CHW name</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent/contact/phone:label">
            <value>CHW phone</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent/contact:label">
            <value>Contact</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent/parent/_id:label">
            <value>Facility ID</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent/parent:label">
            <value>Parent</value>
          </text>
          <text id="/mute/inputs/contact/parent/parent:label">
            <value>Parent</value>
          </text>
          <text id="/mute/inputs/contact/parent:label">
            <value>Parent</value>
          </text>
          <text id="/mute/inputs/contact/patient_id:label">
            <value>Patient ID</value>
          </text>
          <text id="/mute/inputs/contact/sex:label">
            <value>Sex</value>
          </text>
          <text id="/mute/inputs/contact:label">
            <value>Contact</value>
          </text>
          <text id="/mute/inputs/source:label">
            <value>Source</value>
          </text>
          <text id="/mute/inputs/source_id:label">
            <value>Source ID</value>
          </text>
          <text id="/mute/inputs:label">
            <value>Patient</value>
          </text>
          <text id="/mute/mute_request/age_n:label">
            <value>Age: **<output value=" /mute/yr_date_of_birth_ctx "/> yr**</value>
          </text>
          <text id="/mute/mute_request/disposition_date:label">
            <value>Date of Disposition</value>
          </text>
          <text id="/mute/mute_request/dob:label">
            <value>TSIS: **<output value=" /mute/tsis_ctx "/>**</value>
          </text>
          <text id="/mute/mute_request/first_name:label">
            <value>&lt;i style=&quot;background-color: yellow;&quot;&gt;**<output value=" /mute/fast_name_ctx "/>**&lt;/i&gt;</value>
          </text>
          <text id="/mute/mute_request/label_note:label">
            <value>**By filling out this form, you will "mute" this client from the HealthJam Digital Case Management System. This means they will be archived in the system and be inactive. You will not be able to edit their record unless you reactivate their status by completing the "Un-archive a client" form**</value>
          </text>
          <text id="/mute/mute_request/notes_n:label">
            <value>Notes</value>
          </text>
          <text id="/mute/mute_request/reason/changed_clinic:label">
            <value>Changed clinic</value>
          </text>
          <text id="/mute/mute_request/reason/death:label">
            <value>Death</value>
          </text>
          <text id="/mute/mute_request/reason/hiv_negative:label">
            <value>HIV Negative</value>
          </text>
          <text id="/mute/mute_request/reason/in_private_care:label">
            <value>In private care</value>
          </text>
          <text id="/mute/mute_request/reason/incarcerated:label">
            <value>Incarcerated</value>
          </text>
          <text id="/mute/mute_request/reason/migrated:label">
            <value>Migrated</value>
          </text>
          <text id="/mute/mute_request/reason/opt:label">
            <value>Opt Out of HealthJam</value>
          </text>
          <text id="/mute/mute_request/reason/refused_care:label">
            <value>Refused care</value>
          </text>
          <text id="/mute/mute_request/reason/unlocatable:label">
            <value>Unlocatable</value>
          </text>
          <text id="/mute/mute_request/reason:label">
            <value>Client Disposition:</value>
          </text>
          <text id="/mute/mute_request/reason_for_opting:label">
            <value>Reason for opting out:</value>
          </text>
        </translation>
      </itext>
      <instance>
        <mute delimiter="#" id="mute" prefix="J1!mute!" version="2024-07-08 20:25:31">
          <inputs>
            <meta>
              <location>
                <lat/>
                <long/>
                <error/>
                <message/>
              </location>
            </meta>
            <source>user</source>
            <source_id/>
            <contact>
              <_id/>
              <name/>
              <patient_id/>
              <date_of_birth>0</date_of_birth>
              <sex/>
              <name1/>
              <aka/>
              <tsis/>
              <at/>
              <genda/>
              <parent>
                <_id/>
                <parent>
                  <_id/>
                  <contact>
                    <_id/>
                    <name/>
                    <phone/>
                  </contact>
                  <parent>
                    <_id/>
                  </parent>
                </parent>
              </parent>
            </contact>
          </inputs>
          <source/>
          <source_id/>
          <date_of_birth/>
          <patient_age_in_years/>
          <patient_age_in_months>0</patient_age_in_months>
          <patient_uuid/>
          <patient_id/>
          <patient_name/>
          <patient_name1 tag="hidden"/>
          <patient_aka tag="hidden"/>
          <patient_tsis tag="hidden"/>
          <patient_genda tag="hidden"/>
          <patient_at tag="hidden"/>
          <last_name_ctx tag="hidden"/>
          <date_of_birth_ctx tag="hidden"/>
          <aka_ctx tag="hidden"/>
          <tsis_ctx tag="hidden"/>
          <fast_name_ctx tag="hidden"/>
          <at_ctx tag="hidden"/>
          <yr_date_of_birth_ctx tag="hidden"/>
          <gender_ctx tag="hidden"/>
          <mute_request>
            <label_note tag="hidden"/>
            <first_name tag="hidden"/>
            <age_n tag="hidden"/>
            <dob tag="hidden"/>
            <n_special_instruction_title tag="hidden"/>
            <reason/>
            <reason_for_opting/>
            <disposition_date/>
            <notes_n/>
          </mute_request>
          <group_review>
            <n_submit tag="hidden"/>
            <n_patient_details_title tag="hidden"/>
            <c_patient_mod_mnths tag="hidden"/>
            <c_age_string tag="hidden"/>
            <n_patient_details tag="hidden"/>
            <n_reasons_title tag="hidden"/>
            <n_refused_care tag="hidden"/>
            <n_unlocatable tag="hidden"/>
            <n_migrated tag="hidden"/>
            <n_in_private_care tag="hidden"/>
            <n_hiv_negative tag="hidden"/>
            <n_incarcerated tag="hidden"/>
            <n_changed_clinic tag="hidden"/>
            <n_death tag="hidden"/>
            <n_opt tag="hidden"/>
            <n_special_instruction_title tag="hidden"/>
            <n_special_instruction tag="hidden"/>
            <n_follow_up_title tag="hidden"/>
            <n_follow_up tag="hidden"/>
          </group_review>
          <meta tag="hidden">
            <instanceID/>
          </meta>
        </mute>
      </instance>
      <instance id="contact-summary"/>
      <bind nodeset="/mute/inputs" relevant="./source = 'user'"/>
      <bind nodeset="/mute/inputs/source" type="string"/>
      <bind nodeset="/mute/inputs/source_id" type="string"/>
      <bind nodeset="/mute/inputs/contact/_id" type="db:person"/>
      <bind nodeset="/mute/inputs/contact/name" type="string"/>
      <bind nodeset="/mute/inputs/contact/patient_id" type="string"/>
      <bind nodeset="/mute/inputs/contact/date_of_birth" type="string"/>
      <bind nodeset="/mute/inputs/contact/sex" type="string"/>
      <bind nodeset="/mute/inputs/contact/name1" type="string"/>
      <bind nodeset="/mute/inputs/contact/aka" type="string"/>
      <bind nodeset="/mute/inputs/contact/tsis" type="string"/>
      <bind nodeset="/mute/inputs/contact/at" type="string"/>
      <bind nodeset="/mute/inputs/contact/genda" type="string"/>
      <bind nodeset="/mute/inputs/contact/parent/_id" type="string"/>
      <bind nodeset="/mute/inputs/contact/parent/parent/_id" type="string"/>
      <bind nodeset="/mute/inputs/contact/parent/parent/contact/_id" type="string"/>
      <bind nodeset="/mute/inputs/contact/parent/parent/contact/name" type="string"/>
      <bind nodeset="/mute/inputs/contact/parent/parent/contact/phone" type="string"/>
      <bind nodeset="/mute/inputs/contact/parent/parent/parent/_id" type="string"/>
      <bind calculate="../inputs/source" nodeset="/mute/source" type="string"/>
      <bind calculate="../inputs/source_id" nodeset="/mute/source_id" type="string"/>
      <bind calculate="../inputs/contact/date_of_birth" nodeset="/mute/date_of_birth" type="string"/>
      <bind calculate="floor( difference-in-months( ../inputs/contact/date_of_birth, today() ) div 12 )" nodeset="/mute/patient_age_in_years" type="string"/>
      <bind calculate="difference-in-months( ../date_of_birth, today() )" nodeset="/mute/patient_age_in_months" type="string"/>
      <bind calculate="../inputs/contact/_id" nodeset="/mute/patient_uuid" type="string"/>
      <bind calculate="../inputs/contact/_id" nodeset="/mute/patient_id" required="true()" type="string"/>
      <bind calculate="../inputs/contact/name" nodeset="/mute/patient_name" type="string"/>
      <bind calculate="../inputs/contact/name1" nodeset="/mute/patient_name1" type="string"/>
      <bind calculate="../inputs/contact/aka" nodeset="/mute/patient_aka" type="string"/>
      <bind calculate="../inputs/contact/tsis" nodeset="/mute/patient_tsis" type="string"/>
      <bind calculate="../inputs/contact/genda" nodeset="/mute/patient_genda" type="string"/>
      <bind calculate="../inputs/contact/at" nodeset="/mute/patient_at" type="string"/>
      <bind calculate="if(instance('contact-summary')/context/lstname != '', instance('contact-summary')/context/lstname, .)" nodeset="/mute/last_name_ctx" type="string"/>
      <bind calculate="if(instance('contact-summary')/context/patient_date_of_birth != '', instance('contact-summary')/context/patient_date_of_birth, .)" nodeset="/mute/date_of_birth_ctx" type="string"/>
      <bind calculate="if(instance('contact-summary')/context/patient_aka != '', instance('contact-summary')/context/patient_aka, .)" nodeset="/mute/aka_ctx" type="string"/>
      <bind calculate="if(instance('contact-summary')/context/patient_tsis != '', instance('contact-summary')/context/patient_tsis, .)" nodeset="/mute/tsis_ctx" type="string"/>
      <bind calculate="if(instance('contact-summary')/context/fstname != '', instance('contact-summary')/context/fstname, .)" nodeset="/mute/fast_name_ctx" type="string"/>
      <bind calculate="if(instance('contact-summary')/context/patient_at != '', instance('contact-summary')/context/patient_at, .)" nodeset="/mute/at_ctx" type="string"/>
      <bind calculate="int(int(format-date(today(), &quot;%Y&quot;) - format-date( /mute/date_of_birth_ctx , &quot;%Y&quot;)) )" nodeset="/mute/yr_date_of_birth_ctx" type="string"/>
      <bind calculate="if(instance('contact-summary')/context/patient_genda != '', instance('contact-summary')/context/patient_genda, .)" nodeset="/mute/gender_ctx" type="string"/>
      <bind nodeset="/mute/mute_request/label_note" readonly="true()" type="string"/>
      <bind nodeset="/mute/mute_request/first_name" readonly="true()" type="string"/>
      <bind nodeset="/mute/mute_request/age_n" readonly="true()" type="string"/>
      <bind nodeset="/mute/mute_request/dob" readonly="true()" type="string"/>
      <bind nodeset="/mute/mute_request/n_special_instruction_title" readonly="true()" type="string"/>
      <bind nodeset="/mute/mute_request/reason" required="true()" type="select1"/>
      <bind nodeset="/mute/mute_request/reason_for_opting" relevant=" /mute/mute_request/reason  = 'opt'" type="string"/>
      <bind nodeset="/mute/mute_request/disposition_date" type="date"/>
      <bind nodeset="/mute/mute_request/notes_n" type="string"/>
      <bind nodeset="/mute/group_review/n_submit" readonly="true()" type="string"/>
      <bind nodeset="/mute/group_review/n_patient_details_title" readonly="true()" type="string"/>
      <bind calculate="../../patient_age_in_months mod 12" nodeset="/mute/group_review/c_patient_mod_mnths" type="string"/>
      <bind calculate="if(../../patient_age_in_years &lt;= 5, 
concat( /mute/patient_age_in_years , ' years ',  /mute/group_review/c_patient_mod_mnths , ' months old'),
concat( /mute/patient_age_in_years , ' years old'))" nodeset="/mute/group_review/c_age_string" type="string"/>
      <bind nodeset="/mute/group_review/n_patient_details" readonly="true()" type="string"/>
      <bind nodeset="/mute/group_review/n_reasons_title" readonly="true()" type="string"/>
      <bind nodeset="/mute/group_review/n_refused_care" readonly="true()" relevant="selected(../../mute_request/reason, 'refused_care')" type="string"/>
      <bind nodeset="/mute/group_review/n_unlocatable" readonly="true()" relevant="selected(../../mute_request/reason, 'unlocatable')" type="string"/>
      <bind nodeset="/mute/group_review/n_migrated" readonly="true()" relevant="selected(../../mute_request/reason, 'migrated')" type="string"/>
      <bind nodeset="/mute/group_review/n_in_private_care" readonly="true()" relevant="selected(../../mute_request/reason, 'in_private_care')" type="string"/>
      <bind nodeset="/mute/group_review/n_hiv_negative" readonly="true()" relevant="selected(../../mute_request/reason, 'hiv_negative')" type="string"/>
      <bind nodeset="/mute/group_review/n_incarcerated" readonly="true()" relevant="selected(../../mute_request/reason, 'incarcerated')" type="string"/>
      <bind nodeset="/mute/group_review/n_changed_clinic" readonly="true()" relevant="selected(../../mute_request/reason, 'changed_clinic')" type="string"/>
      <bind nodeset="/mute/group_review/n_death" readonly="true()" relevant="selected(../../mute_request/reason, 'death')" type="string"/>
      <bind nodeset="/mute/group_review/n_opt" readonly="true()" relevant="selected(../../mute_request/reason, 'opt')" type="string"/>
      <bind nodeset="/mute/group_review/n_special_instruction_title" readonly="true()" type="string"/>
      <bind nodeset="/mute/group_review/n_special_instruction" readonly="true()" type="string"/>
      <bind nodeset="/mute/group_review/n_follow_up_title" readonly="true()" type="string"/>
      <bind nodeset="/mute/group_review/n_follow_up" readonly="true()" type="string"/>
      <bind calculate="concat('uuid:', uuid())" nodeset="/mute/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body class="pages">
    <group appearance="field-list" ref="/mute/inputs">
      <label ref="jr:itext('/mute/inputs:label')"/>
      <group ref="/mute/inputs/contact">
        <label ref="jr:itext('/mute/inputs/contact:label')"/>
        <input appearance="db-object" ref="/mute/inputs/contact/_id">
          <label ref="jr:itext('/mute/inputs/contact/_id:label')"/>
        </input>
        <input appearance="hidden" ref="/mute/inputs/contact/name1"/>
        <input appearance="hidden" ref="/mute/inputs/contact/aka"/>
        <input appearance="hidden" ref="/mute/inputs/contact/tsis"/>
        <input appearance="hidden" ref="/mute/inputs/contact/at"/>
        <input appearance="hidden" ref="/mute/inputs/contact/genda"/>
        <group ref="/mute/inputs/contact/parent">
          <label ref="jr:itext('/mute/inputs/contact/parent:label')"/>
          <group ref="/mute/inputs/contact/parent/parent">
            <label ref="jr:itext('/mute/inputs/contact/parent/parent:label')"/>
            <group ref="/mute/inputs/contact/parent/parent/contact">
              <label ref="jr:itext('/mute/inputs/contact/parent/parent/contact:label')"/>
            </group>
            <group ref="/mute/inputs/contact/parent/parent/parent">
              <label ref="jr:itext('/mute/inputs/contact/parent/parent/parent:label')"/>
            </group>
          </group>
        </group>
      </group>
    </group>
    <group appearance="field-list summary" ref="/mute/mute_request">
      <input ref="/mute/mute_request/label_note">
        <label ref="jr:itext('/mute/mute_request/label_note:label')"/>
      </input>
      <input ref="/mute/mute_request/first_name">
        <label ref="jr:itext('/mute/mute_request/first_name:label')"/>
      </input>
      <input ref="/mute/mute_request/age_n">
        <label ref="jr:itext('/mute/mute_request/age_n:label')"/>
      </input>
      <input ref="/mute/mute_request/dob">
        <label ref="jr:itext('/mute/mute_request/dob:label')"/>
      </input>
      <input appearance="h1 yellow" ref="/mute/mute_request/n_special_instruction_title"/>
      <select1 ref="/mute/mute_request/reason">
        <label ref="jr:itext('/mute/mute_request/reason:label')"/>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/refused_care:label')"/>
          <value>refused_care</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/unlocatable:label')"/>
          <value>unlocatable</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/migrated:label')"/>
          <value>migrated</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/in_private_care:label')"/>
          <value>in_private_care</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/hiv_negative:label')"/>
          <value>hiv_negative</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/incarcerated:label')"/>
          <value>incarcerated</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/changed_clinic:label')"/>
          <value>changed_clinic</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/death:label')"/>
          <value>death</value>
        </item>
        <item>
          <label ref="jr:itext('/mute/mute_request/reason/opt:label')"/>
          <value>opt</value>
        </item>
      </select1>
      <input ref="/mute/mute_request/reason_for_opting">
        <label ref="jr:itext('/mute/mute_request/reason_for_opting:label')"/>
      </input>
      <input ref="/mute/mute_request/disposition_date">
        <label ref="jr:itext('/mute/mute_request/disposition_date:label')"/>
      </input>
      <input ref="/mute/mute_request/notes_n">
        <label ref="jr:itext('/mute/mute_request/notes_n:label')"/>
      </input>
    </group>
    <group appearance="field-list summary" ref="/mute/group_review">
      <label ref="jr:itext('/mute/group_review:label')"/>
      <input ref="/mute/group_review/n_submit">
        <label ref="jr:itext('/mute/group_review/n_submit:label')"/>
      </input>
      <input appearance="h1 yellow" ref="/mute/group_review/n_patient_details_title">
        <label ref="jr:itext('/mute/group_review/n_patient_details_title:label')"/>
      </input>
      <input ref="/mute/group_review/n_patient_details">
        <label ref="jr:itext('/mute/group_review/n_patient_details:label')"/>
      </input>
      <input ref="/mute/group_review/n_reasons_title">
        <label ref="jr:itext('/mute/group_review/n_reasons_title:label')"/>
      </input>
      <input appearance="li" ref="/mute/group_review/n_refused_care">
        <label ref="jr:itext('/mute/group_review/n_refused_care:label')"/>
      </input>
      <input appearance="li" ref="/mute/group_review/n_unlocatable">
        <label ref="jr:itext('/mute/group_review/n_unlocatable:label')"/>
      </input>
      <input appearance="li" ref="/mute/group_review/n_migrated">
        <label ref="jr:itext('/mute/group_review/n_migrated:label')"/>
      </input>
      <input ref="/mute/group_review/n_in_private_care">
        <label ref="jr:itext('/mute/group_review/n_in_private_care:label')"/>
      </input>
      <input ref="/mute/group_review/n_hiv_negative">
        <label ref="jr:itext('/mute/group_review/n_hiv_negative:label')"/>
      </input>
      <input ref="/mute/group_review/n_incarcerated">
        <label ref="jr:itext('/mute/group_review/n_incarcerated:label')"/>
      </input>
      <input ref="/mute/group_review/n_changed_clinic">
        <label ref="jr:itext('/mute/group_review/n_changed_clinic:label')"/>
      </input>
      <input appearance="li" ref="/mute/group_review/n_death">
        <label ref="jr:itext('/mute/group_review/n_death:label')"/>
      </input>
      <input ref="/mute/group_review/n_opt">
        <label ref="jr:itext('/mute/group_review/n_opt:label')"/>
      </input>
      <input appearance="h1 blue" ref="/mute/group_review/n_special_instruction_title">
        <label ref="jr:itext('/mute/group_review/n_special_instruction_title:label')"/>
      </input>
      <input ref="/mute/group_review/n_special_instruction">
        <label ref="jr:itext('/mute/group_review/n_special_instruction:label')"/>
      </input>
      <input appearance="h1 green" ref="/mute/group_review/n_follow_up_title">
        <label ref="jr:itext('/mute/group_review/n_follow_up_title:label')"/>
      </input>
      <input ref="/mute/group_review/n_follow_up">
        <label ref="jr:itext('/mute/group_review/n_follow_up:label')"/>
      </input>
    </group>
  </h:body>
</h:html>
